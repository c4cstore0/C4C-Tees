<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>C4C Tees</title>
<style>
  body{font-family:sans-serif;margin:0;padding:0;background:#f8f8f8;}
  header{display:flex;align-items:center;padding:10px 20px;background:#fff;box-shadow:0 2px 5px rgba(0,0,0,0.1);}
  .logo{width:50px;height:50px;margin-right:10px;background:#ccc;border-radius:8px;}
  h1{margin:0;font-size:1.8em;}
  .tagline{font-size:0.9em;color:#555;}
  .cover-photo{width:100%;height:300px;background:#ddd;background-size:cover;background-position:center;position:relative;}
  .cover-desc{position:absolute;top:20px;left:20px;color:#fff;font-size:1.2em;font-weight:bold;text-shadow:0 1px 4px rgba(0,0,0,0.6);}
  main{padding:20px;}
  .categories{display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap;}
  .category-btn{padding:8px 15px;background:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer;}
  .products{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;}
  .product-card{background:#fff;border-radius:10px;box-shadow:0 2px 8px rgba(0,0,0,0.1);overflow:hidden;cursor:pointer;transition:transform 0.3s;}
  .product-card:hover{transform:translateY(-5px);}
  .product-inner{position:relative;width:100%;height:300px;perspective:1000px;}
  .product-front,.product-back{position:absolute;width:100%;height:100%;backface-visibility:hidden;display:flex;align-items:center;justify-content:center;}
  .product-back{transform:rotateY(180deg);}
  .product-inner.flipped .product-front{transform:rotateY(180deg);}
  .product-inner.flipped .product-back{transform:rotateY(0);}
  .product-info{padding:10px;text-align:center;}
  .add-cart{background:#28a745;color:#fff;border:none;padding:8px 15px;border-radius:5px;cursor:pointer;}
  footer{background:#222;color:#fff;padding:20px;text-align:center;margin-top:30px;}
  /* Admin */
  .admin-button{position:fixed;bottom:10px;right:10px;background:#111;color:#111;padding:10px;border-radius:50%;cursor:pointer;z-index:999;}
  .admin-panel{position:fixed;bottom:0;right:0;width:300px;background:#333;color:#fff;padding:15px;box-shadow:0 -2px 10px rgba(0,0,0,0.3);display:none;z-index:998;max-height:80vh;overflow-y:auto;}
  .admin-panel input,.admin-panel textarea,.admin-panel select{width:100%;margin-bottom:10px;padding:5px;border-radius:5px;border:none;}
  .admin-panel button{padding:5px 10px;margin-bottom:10px;border:none;border-radius:5px;background:#007bff;color:#fff;cursor:pointer;}
  .cart-drawer{position:fixed;top:0;right:-300px;width:300px;height:100%;background:#fff;box-shadow:-2px 0 10px rgba(0,0,0,0.2);transition:right 0.3s;z-index:997;padding:10px;overflow-y:auto;}
  .cart-drawer.open{right:0;}
</style>
</head>
<body>

<header>
  <div class="logo"></div>
  <div>
    <h1>C4C Tees</h1>
    <div class="tagline">Faith. Vibe. Everyday.</div>
  </div>
</header>

<div class="cover-photo">
  <div class="cover-desc" id="coverDesc">Premium Cotton Tees — Bold Designs for Your Faith & Vibe.</div>
</div>

<main>
  <div class="categories" id="categoryBtns"></div>
  <div class="products" id="productGrid"></div>
</main>

<footer>
  Contact us: <a href="tel:0880466699" style="color:#0af;">0880466699</a> | 
  <a href="tel:0776839092" style="color:#0af;">0776839092</a> | WhatsApp orders available
</footer>

<!-- Admin -->
<div class="admin-button" onclick="toggleAdmin()">⚙️</div>
<div class="admin-panel" id="adminPanel">
  <h3>Admin Panel</h3>
  <label>Description above cover photo</label>
  <textarea id="adminDesc" rows="2"></textarea>
  <button onclick="saveDesc()">Save Description</button>

  <label>Cover Photo (URL or upload)</label>
  <input type="text" id="adminCover" placeholder="Image URL">
  <input type="file" id="adminCoverFile">
  <button onclick="saveCover()">Save Cover Photo</button>

  <h4>Categories</h4>
  <div id="adminCategories"></div>
  <button onclick="addCategory()">Add Category</button>

  <h4>Products</h4>
  <input type="text" id="prodName" placeholder="Name">
  <textarea id="prodDesc" placeholder="Description"></textarea>
  <input type="text" id="prodPrice" placeholder="Price">
  <select id="prodCategory"></select>
  <input type="text" id="prodFrontUrl" placeholder="Front Image URL">
  <input type="text" id="prodBackUrl" placeholder="Back Image URL">
  <button onclick="saveProduct()">Save Product</button>
  <button onclick="saveAllChanges()">Save All Changes</button>
  <button onclick="closeAdmin()">Back to Site</button>
</div>

<!-- Cart Drawer -->
<div class="cart-drawer" id="cartDrawer">
  <h3>Cart</h3>
  <div id="cartItems"></div>
  <button onclick="checkoutCart()">Checkout via WhatsApp</button>
</div>

<script>
/* ---- Data ---- */
let categories = ["Tees","Hoodies","Kids","All"];
let products = [
  {name:"Faith Tee",desc:"Bold faith design",price:"$25",category:"Tees",front:"https://via.placeholder.com/200x300?text=Front",back:"https://via.placeholder.com/200x300?text=Back"},
  {name:"Vibe Hoodie",desc:"Comfortable hoodie",price:"$40",category:"Hoodies",front:"https://via.placeholder.com/200x300?text=Front",back:"https://via.placeholder.com/200x300?text=Back"},
  {name:"Kids Tee",desc:"Fun kids design",price:"$20",category:"Kids",front:"https://via.placeholder.com/200x300?text=Front",back:"https://via.placeholder.com/200x300?text=Back"}
];
let cart = [];

/* ---- Display ---- */
function displayCategories(){
  const container=document.getElementById("categoryBtns");
  container.innerHTML="";
  categories.forEach(cat=>{
    const btn=document.createElement("button");
    btn.className="category-btn";
    btn.innerText=cat;
    btn.onclick=()=>displayProducts(cat);
    container.appendChild(btn);
  });
}

function displayProducts(cat){
  const container=document.getElementById("productGrid");
  container.innerHTML="";
  products.filter(p=>cat==="All"||p.category===cat).forEach(p=>{
    const card=document.createElement("div");
    card.className="product-card";
    const inner=document.createElement("div");
    inner.className="product-inner";
    inner.onclick=()=>inner.classList.toggle("flipped");
    const front=document.createElement("div");
    front.className="product-front";
    front.innerHTML=`<img src="${p.front}" style="width:100%;height:100%;object-fit:cover;">`;
    const back=document.createElement("div");
    back.className="product-back";
    back.innerHTML=`<img src="${p.back}" style="width:100%;height:100%;object-fit:cover;">`;
    inner.appendChild(front);
    inner.appendChild(back);
    card.appendChild(inner);

    const info=document.createElement("div");
    info.className="product-info";
    info.innerHTML=`<strong>${p.name}</strong><br>${p.desc}<br><strong>${p.price}</strong>`;
    const btn=document.createElement("button");
    btn.className="add-cart";
    btn.innerText="Add to Cart";
    btn.onclick=(e)=>{e.stopPropagation();addToCart(p)};
    info.appendChild(btn);
    card.appendChild(info);
    container.appendChild(card);
  });
}

/* ---- Cart ---- */
function addToCart(product){
  cart.push(product);
  displayCart();
  document.getElementById("cartDrawer").classList.add("open");
}

function displayCart(){
  const container=document.getElementById("cartItems");
  container.innerHTML="";
  cart.forEach((p,i)=>{
    const div=document.createElement("div");
    div.innerHTML=`${p.name} - ${p.price} <button onclick="removeCartItem(${i})">X</button>`;
    container.appendChild(div);
  });
}

function removeCartItem(i){
  cart.splice(i,1);
  displayCart();
}

function checkoutCart(){
  if(cart.length===0){alert("Cart is empty!"); return;}
  let text="Order:%0A";
  cart.forEach(p=>text+=`${p.name} - ${p.price}%0A`);
  text+=`Pay via MTN MoMo 0880466699 or Orange Money 0776839092`;
  window.open("https://wa.me/231880466699?text="+text,"_blank");
}

/* ---- Admin ---- */
function toggleAdmin(){
  const panel=document.getElementById("adminPanel");
  panel.style.display=panel.style.display==="block"?"none":"block";
  document.getElementById("adminDesc").value=document.getElementById("coverDesc").innerText;
}

function saveDesc(){
  const val=document.getElementById("adminDesc").value;
  document.getElementById("coverDesc").innerText=val;
  localStorage.setItem("coverDesc",val);
  alert("Description saved!");
}
function saveCover(){
  const url=document.getElementById("adminCover").value;
  const file=document.getElementById("adminCoverFile").files[0];
  if(file){
    const reader=new FileReader();
    reader.onload=()=>{document.querySelector(".cover-photo").style.backgroundImage=`url('${reader.result}')`; localStorage.setItem("coverPhoto",reader.result);}
    reader.readAsDataURL(file);
  }else if(url){
    document.querySelector(".cover-photo").style.backgroundImage=`url('${url}')`;
    localStorage.setItem("coverPhoto",url);
  }else{alert("Provide URL or file");}
}
function closeAdmin(){document.getElementById("adminPanel").style.display="none";}
function addCategory(){const name=prompt("Category name:"); if(name){categories.push(name); updateAdminCategories(); displayCategories();}}
function saveProduct(){
  const name=document.getElementById("prodName").value;
  const desc=document.getElementById("prodDesc").value;
  const price=document.getElementById("prodPrice").value;
  const cat=document.getElementById("prodCategory").value;
  const front=document.getElementById("prodFrontUrl").value;
  const back=document.getElementById("prodBackUrl").value;
  if(!name||!cat){alert("Name & category required"); return;}
  products.push({name,desc,price,category:cat,front:front||"https://via.placeholder.com/200x300",back:back||"https://via.placeholder.com/200x300"});
  displayProducts("All");
  updateAdminCategories();
  alert("Product added!");
}

function updateAdminCategories(){
  const select=document.getElementById("prodCategory");
  select.innerHTML="";
  categories.forEach(c=>{
    const opt=document.createElement("option");
    opt.value=c; opt.innerText=c;
    select.appendChild(opt);
  });
}
function saveAllChanges(){localStorage.setItem("products",JSON.stringify(products)); localStorage.setItem("categories",JSON.stringify(categories)); alert("All changes saved!");}

/* ---- Load saved data ---- */
if(localStorage.getItem("coverPhoto")) document.querySelector(".cover-photo").style.backgroundImage=`url('${localStorage.getItem("coverPhoto")}')`;
if(localStorage.getItem("coverDesc")) document.getElementById("coverDesc").innerText=localStorage.getItem("coverDesc");
if(localStorage.getItem("categories")) categories=JSON.parse(localStorage.getItem("categories"));
if(localStorage.getItem("products")) products=JSON.parse(localStorage.getItem("products"));
updateAdminCategories();
displayCategories();
displayProducts("All");
</script>

</body>
</html>
